{% extends 'layout.twig' %}

{% block body %}
    <!-- **********************************************************************************************************************************************************
    MAIN SIDEBAR MENU
    *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    <aside>
        <div id="sidebar"  class="nav-collapse ">
            <!-- sidebar menu start-->
            <ul class="sidebar-menu" id="nav-accordion">
                <li class="mt">
                    <a href=".">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                </li>

                <li class="mt">
                    <a href="devices">
                        <i class="fa fa-desktop"></i>
                        <span>Devices</span>
                    </a>
                </li>

                <li class="mt">
                    <a class="active" href="configs" >
                        <i class="fa fa-cogs"></i>
                        <span>Configurations</span>
                    </a>
                </li>
            </ul>
            <!-- sidebar menu end-->
        </div>
    </aside>
    <!--sidebar end-->

    <!-- **********************************************************************************************************************************************************
    MAIN CONTENT
    *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">
          <div class="row mt">
            <div class="col-lg-12">
                <div class="form-panel">
                    <h4 class="mb"><i class="fa fa-angle-right"></i> Gateway Configurations</h4>

                    <form class="form-horizontal style-form" method="post" action="configs/save">
                        <div class="form-group">
                            <label class="col-lg-2 col-sm-2 control-label">Gateway ID</label>
                            <div class="col-lg-10">
                                <p id="gateway-id" class="form-control-static">{{ gateway_id }}</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 col-sm-2 control-label">MQTT Broker</label>
                            <div class="col-sm-10">
                                <input id="mqtt-address" name="mqtt_address" type="text" class="form-control" value="{{ mqtt_address }}" placeholder="mqtt://<address>">
                                <span class="help-block">Add MQTT Broker address used by the Gateway to exchange information</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 col-sm-2 control-label">MQTT Subscribe Topic</label>
                            <div class="col-lg-10">
                                <input id="mqtt_subscribe_topic" name="mqtt_subscribe_topic" type="text" class="form-control" " type="text" class="form-control" value="{{ topic_tx }}" placeholder="subscribe topic">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 col-sm-2 control-label">MQTT Publish Topic</label>
                            <div class="col-lg-10">
                                <input id="mqtt_publish_topic" name="mqtt_publish_topic" type="text" class="form-control" value="{{ topic_rx }}" placeholder="public topic">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 col-sm-2 control-label">MQTT connection</label>
                            <div class="col-sm-10">
                                {% if mqtt_connection == "connected" %}
                                    <span class="label label-success label-mini">Connected</span>
                                {% else %}
                                    <span class="label label-danger label-mini">Not connected</span>
                                {% endif %}
                            </div>
                        </div>
                        <input type="submit" class="btn btn-theme03" value="Save">
                    </form>

                </div>
            </div><!-- col-lg-12-->
          </div><!-- /row -->
        </section>
      </section>
{% endblock %}
